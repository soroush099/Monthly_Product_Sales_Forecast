
# **مستندات پروژه: پیش‌بینی ماهانه فروش محصولات (Monthly Product Sales Forecast)**

**نسخه: 1.1**

**تاریخ آخرین به‌روزرسانی: 26 آگوست 2025**

-----

## ۱. معرفی و نمای کلی پروژه

این پروژه با هدف پیش‌بینی تعداد فروش ماهانه هر محصول به صورت مجزا توسعه داده شده است. هدف اصلی، ایجاد یک سیستم هوشمند برای پیش‌بینی تقاضا است که به بهینه‌سازی فرآیندهای کلیدی کسب‌وکار کمک کند.

### **صورت مسئله**

چگونه می‌توانیم فروش محصولات را در ماه‌های آینده با دقت قابل قبول پیش‌بینی کنیم تا تصمیمات بهتری در زمینه‌هایی مانند مدیریت موجودی، زنجیره تامین و برنامه‌ریزی مالی اتخاذ شود؟

### **اهداف کلیدی**

  * **هدف اصلی:** دستیابی به یک مدل پیش‌بینی با دقت بالاتر از 70% برای اکثر محصولات.
  * **اهداف جانبی:**
      * تامین به موقع و به اندازه کافی محصولات برای جلوگیری از کمبود.
      * جلوگیری از انباشت بیش از حد کالا و کاهش هزینه‌های نگهداری در انبار.
      * بهینه‌سازی سرمایه در گردش و جلوگیری از هدررفت منابع.

### **اهمیت و کاربرد تجاری**

این پروژه به طور مستقیم بر سودآوری و کارایی عملیاتی شرکت تأثیر می‌گذارد. با پیش‌بینی دقیق تقاضا، می‌توان از خالی ماندن یا اشغال بی‌دلیل فضای انبار جلوگیری کرد و اطمینان حاصل نمود که محصولات پرفروش همیشه در دسترس مشتریان قرار دارند.

-----

## ۲. داده‌ها

### **منبع داده**

داده‌های مورد استفاده در این پروژه از **دیتا ورودی شرکت (Data Warehouse)** استخراج شده‌اند. این داده‌ها شامل تاریخچه فروش ماهانه تمام محصولات است.

### **توصیف مجموعه داده**

مجموعه داده اصلی شامل اطلاعات فروش تعدادی هر کالا به تفکیک ماه و سال است.

  * **ساختار داده:**
      * `کد کالا`: شناسه منحصر به فرد هر محصول.
      * `اسم کالا`: نام محصول.
      * `تعداد کالا`: تعداد فروش محصول در ماه مشخص شده.
      * `سال`: سال فروش.
      * `ماه`: ماه فروش.
  * **حجم داده:** این مجموعه داده در حال حاضر شامل بیش از **۱۰۰,۰۰۰ رکورد** است و به صورت ماهانه در حال رشد می‌باشد.

-----

## ۳. متدولوژی و فرآیند فنی

فرآیند اجرای پروژه شامل مراحل آماده‌سازی داده، مهندسی ویژگی، مدل‌سازی و ارزیابی می‌باشد.

### **آماده‌سازی داده (Data Preparation)**

از آنجایی که داده‌ها از دیتا ورودی استخراج شده‌اند، از کیفیت بالایی برخوردار بوده و فاقد نویز یا مقادیر گمشده هستند. تنها مرحله پیش‌پردازش انجام شده، **استانداردسازی (Standardization)** داده‌ها برای بهبود عملکرد مدل بوده است.

### **مهندسی ویژگی (Feature Engineering)**

برای غنی‌سازی داده‌ها و کمک به مدل برای یادگیری الگوهای زمانی، ویژگی‌های جدید زیر از تاریخچه فروش هر محصول استخراج شدند:

  * **ویژگی‌های تأخیر (Lag Features):** میزان فروش در ۱۲ ماه گذشته (`lag_1` تا `lag_12`) به عنوان ویژگی‌های مستقل به داده‌ها اضافه شد.
  * **میانگین متحرک (Moving Average):** میانگین فروش سه ماهه اخیر برای شناسایی روندهای کوتاه‌مدت محاسبه شد.
  * **انحراف معیار (Standard Deviation):** انحراف معیار فروش در دوره‌های گذشته برای درک نوسانات فروش به مدل اضافه گردید.

### **تحلیل اکتشافی داده (Exploratory Data Analysis - EDA)**

مهم‌ترین الگوی کشف شده در این مرحله، وجود **رفتار فصلی (Seasonality)** در فروش اکثر محصولات بود. به این معنی که فروش محصولات در ماه‌های مشابه در سال‌های مختلف، الگوی نسبتاً یکسانی را دنبال می‌کند.

### **مدل‌سازی و ارزیابی (Modeling & Evaluation)**

  * **مدل‌های آزمایش شده:** طیف گسترده‌ای از مدل‌ها از جمله تمامی مدل‌های رگرسیون کلاسیک، **XGBoost** و مدل‌های پیچیده‌تر شبکه‌های عصبی مانند **LSTM** مورد آزمایش قرار گرفتند.

  * **مدل نهایی منتخب:** پس از ارزیابی‌های متعدد، مدل **`RandomForestRegressor`** به دلیل توازن مناسب بین دقت، سرعت و قابلیت تفسیر به عنوان مدل نهایی انتخاب شد.

  * **سنجه ارزیابی:** برای ارزیابی عملکرد مدل از سنجه‌های متداول رگرسیون مانند **خطای میانگین مطلق (MAE)** و **ریشه میانگین مربعات خطا (RMSE)** استفاده شده است. این سنجه‌ها میزان اختلاف بین مقادیر پیش‌بینی شده و واقعی را اندازه‌گیری می‌کنند.

-----

## ۴. نتایج و جمع‌بندی

### **عملکرد مدل**

مدل نهایی `RandomForestRegressor` موفق شد برای بیش از **۷۰ درصد از محصولات**، به پیش‌بینی‌هایی با **خطای قابل قبول (معادل دقت بالای ۵۰٪)** دست یابد. با توجه به تنوع و تعداد بالای محصولات، این نتیجه یک موفقیت بزرگ محسوب می‌شود و ارزش تجاری قابل توجهی ایجاد می‌کند.

### **یافته‌های کلیدی**

  * **سادگی بر پیچیدگی پیروز است:** نتایج نشان داد که مدل‌های پیچیده‌تر مانند شبکه‌های عصبی لزوماً عملکرد بهتری نسبت به مدل‌های مبتنی بر درخت مانند Random Forest در این مسئله خاص ندارند.
  * **مدل خود-بهبودگر:** با افزایش حجم داده‌های تاریخی در هر ماه، انتظار می‌رود عملکرد و دقت مدل به مرور زمان بهتر شود.

### **محدودیت‌ها**

  * عملکرد مدل به شدت به **کیفیت و ثبات داده‌های ورودی** وابسته است. هرگونه تغییر ناگهانی در الگوهای ثبت داده می‌تواند بر دقت پیش‌بینی‌ها تأثیر منفی بگذارد.

-----

## ۵. راهنمای استفاده و اجرا

### **پیش‌نیازها**

برای اجرای پروژه، محیط پایتون و کتابخانه‌های زیر مورد نیاز است. توصیه می‌شود از یک محیط مجازی (Virtual Environment) استفاده کنید.

```text
# requirements.txt
python==3.12
pandas~=2.3.1
scikit-learn~=1.7.1
numpy~=2.2.6
matplotlib~=3.10.5
```

### **ساختار پروژه (Updated)**

ساختار پروژه برای اطمینان از خوانایی، قابلیت نگهداری و توسعه‌پذیری به شکل ماژولار زیر طراحی شده است:

```
monthly-product-sales-forecast/
│
├── data/                     # داده‌های خام و پردازش شده
├── models/                   # فایل‌های مدل‌های آموزش دیده (مانند .joblib)
├── notebooks/
│   └── exploration.ipynb     # نوتبوک برای تحلیل اکتشافی و آزمایش‌های اولیه
│
├── reports/
│   ├── figures/              # نمودارها و مصورسازی‌های خروجی
│   └── seasonal_forecast_results.csv # فایل نتایج نهایی پیش‌بینی‌ها
│
├── src/                      # سورس کدهای اصلی پروژه
│   ├── data/
│   │   └── data_loader.py    # ماژول بارگذاری و آماده‌سازی اولیه داده
│   ├── config/
│   │   └── base_config.py
│   ├── features/
│   │   └── feature_engineering.py # ماژول ساخت ویژگی‌های جدید
│   ├── models/
│   │   ├── evaluation.py     # اسکریپت ارزیابی مدل
│   │   ├── model_training.py # اسکریپت آموزش مدل
│   │   └── forecasting.py    # اسکریپت اجرای پیش‌بینی روی داده جدید
│   ├── utils/
│   │   ├── auxiliary_comparison_chart.py
│   │   ├── jalali_utils.py
│   │   └── helpers.py        # توابع کمکی و عمومی مورد استفاده در پروژه
│   └── visualization/
│       └── plots.py          # ماژول تولید نمودارها و گزارشات تصویری
│
├── tests/
│   └── test_pipeline.py      # تست‌های یکپارچگی برای اطمینان از صحت پایپ‌لاین
│
├── main.py
│
└── requirements.txt            # لیست کتابخانه‌های مورد نیاز پروژه
```


